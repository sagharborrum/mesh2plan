<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>mesh2plan v17 - L-Shape Wall Intersection</title>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body { background: #1a1a2e; color: #eee; font-family: system-ui, sans-serif; padding: 20px; }
h1 { font-size: 24px; color: #00E5FF; margin-bottom: 8px; }
.desc { color: #aaa; font-size: 14px; line-height: 1.6; margin-bottom: 20px; max-width: 900px; }
.results { display: flex; gap: 20px; flex-wrap: wrap; }
.card { background: rgba(20,20,40,0.8); border-radius: 12px; padding: 16px; border: 1px solid rgba(255,255,255,0.1); flex: 1; min-width: 400px; }
.card h2 { font-size: 16px; color: #888; margin-bottom: 12px; }
.card img { width: 100%; border-radius: 8px; }
.stats { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-top: 12px; }
.stat { background: rgba(0,0,0,0.3); padding: 8px 12px; border-radius: 6px; }
.stat-label { font-size: 11px; color: #666; text-transform: uppercase; }
.stat-value { font-size: 18px; font-weight: bold; color: #00E5FF; }
.badge { display: inline-block; padding: 4px 10px; border-radius: 12px; font-size: 12px; font-weight: bold; margin-right: 6px; }
.badge-area { background: rgba(0,229,255,0.2); color: #00E5FF; }
.badge-approach { background: rgba(255,165,0,0.2); color: #FFA500; }
pre { background: rgba(0,0,0,0.4); padding: 12px; border-radius: 8px; font-size: 12px; overflow-x: auto; margin-top: 12px; color: #ccc; max-height: 400px; overflow-y: auto; }
a { color: #00E5FF; }
nav { margin-bottom: 20px; }
nav a { margin-right: 12px; font-size: 13px; }
</style>
</head>
<body>
<nav><a href="index.html">← All Versions</a> <a href="v16.html">v16</a> <a href="v18.html">v18 →</a></nav>
<h1>v17 — L-Shape Wall Intersection</h1>
<span class="badge badge-approach">Wall Intersection + Density Grid</span>
<span class="badge badge-area">11.0m²</span>
<p class="desc">
First L-shape attempt. Uses vertex density grid to confirm room footprint, then builds rectilinear polygon from wall positions. Detects the knockout (upper-left empty area) but still keeps the interior wall at X=1.67 as it passes the "significant wall" threshold.
</p>
<div class="results">
<div class="card">
  <h2>Floor Plan</h2>
  <img src="results/v11_lshape/gdrive_sample_export_refined_final_floorplan.png" alt="v17 floor plan">
  <div class="stats">
    <div class="stat"><div class="stat-label">Area</div><div class="stat-value">11.0m²</div></div>
    <div class="stat"><div class="stat-label">Target</div><div class="stat-value">10.4m²</div></div>
    <div class="stat"><div class="stat-label">Walls</div><div class="stat-value">7</div></div>
    <div class="stat"><div class="stat-label">Shape</div><div class="stat-value">L (6 vtx)</div></div>
  </div>
</div>
<div class="card">
  <h2>Density Map</h2>
  <img src="results/v11_lshape/density_map.png" alt="density map">
  <p style="color:#888;font-size:13px;margin-top:8px;">Vertex density in rotated frame. Upper-left quadrant (the knockout) is clearly empty. The L-shape is visible.</p>
</div>
</div>
<div class="card" style="margin-top:20px;max-width:600px;">
  <h2>Results JSON</h2>
  <pre id="json">Loading...</pre>
</div>
<script>
fetch('results/v11_lshape/gdrive_sample_export_refined_final_results.json')
  .then(r=>r.json()).then(d=>document.getElementById('json').textContent=JSON.stringify(d,null,2))
  .catch(()=>document.getElementById('json').textContent='Failed to load');
</script>
</body>
</html>
